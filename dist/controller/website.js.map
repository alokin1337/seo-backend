{"version":3,"sources":["../../src/controller/website.js"],"names":["config","db","api","get","req","res","options","url","params","strategy","category","querystring","stringify","console","log","then","json","status"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;;;kBAEe,gBAAoB;AAAA,QAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,QAATC,EAAS,QAATA,EAAS;;AAC/B,QAAIC,MAAM,sBAAV;;AAEJA,QAAIC,GAAJ,CAAQ,YAAR,EAAsB,UAACC,GAAD,EAAMC,GAAN,EAAc;;AAE5B;AACA,YAAIC,UAAU;AACVC,iBAAK,mFADK;AAEVC,oBAAQ;AACJC,0BAAU,SADN;AAEJC,0BAAU;AAFN;AAFE,SAAd;;AAQA,YAAMH,MAASD,QAAQC,GAAjB,SAAwBI,sBAAYC,SAAZ,CAAsBN,QAAQE,MAA9B,CAA9B;AACAK,gBAAQC,GAAR,CAAYP,GAAZ;AACA,iCAAMA,GAAN,EACKQ,IADL,CACU,UAASV,GAAT,EAAc;AAChB,mBAAOA,IAAIW,IAAJ,EAAP;AACH,SAHL,EAGOD,IAHP,CAGY,UAASC,IAAT,EAAe;AACnBX,gBAAIY,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqB,EAACA,UAAD,EAArB;AACH,SALL;AAMP,KAnBD;;AAqBAd,QAAIC,GAAJ,CAAQ,YAAR,EAAsB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAChC;;AAEA;AACA;;;AAGH,KAPD;;AASI,WAAOH,GAAP;AACH,C","file":"website.js","sourcesContent":["import {Router} from 'express'\nimport fetch from 'node-fetch'\nimport querystring from 'querystring'\n\nexport default ({ config, db }) => {\n    let api = Router();\n    \napi.get('/pagespeed', (req, res) => {\n\n        // pagespeedapi https://developers.google.com/speed/docs/insights/v5/reference/pagespeedapi/runpagespeed\n        let options = {\n            url: \"https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url=http://skalilo.com\",\n            params: {\n                strategy: \"desktop\",\n                category: \"seo\"\n            }\n        }\n\n        const url = `${options.url}?${querystring.stringify(options.params)}`\n        console.log(url)\n        fetch(url)\n            .then(function(res) {\n                return res.json();\n            }).then(function(json) {\n                res.status(200).json({json})                \n            })\n})\n\napi.get('/webmaster', (req, res) => {\n    // webmaster https://developers.google.com/webmaster-tools/search-console-api-original/v3/\n\n    // search google for sitemap \"site:seo-michael.co.uk inurl:sitemap\"\n    // check the robot file for sitemap \"site:seo-michael.co.uk inurl:robots.txt\"\n\n    \n})\n\n    return api;\n}"]}