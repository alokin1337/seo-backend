{"version":3,"sources":["../../src/middleware/authMiddleware.js"],"names":["loginTokenTime","SECRET","authenticate","secret","generateAccessToken","req","token","jwt","sign","id","_id","expiresIn","respond","res","status","json","user","username","module","exports"],"mappings":";;AAAA;;;;;;AAGA;AACA,IAAMA,iBAAiB,KAAK,EAAL,GAAU,EAAV,GAAe,EAAtC,C,CAA0C;;AAE1C;AACA,IAAMC,SAAS,qBAAf;;AAEA,IAAIC,eAAe,0BAAW,EAAEC,QAAQF,MAAV,EAAX,CAAnB;;AAEA,IAAIG,sBAAsB,SAAtBA,mBAAsB,CAACC,GAAD,EAAS;AAC/BA,QAAIC,KAAJ,GAAYD,IAAIC,KAAJ,IAAa,EAAzB;AACAD,QAAIC,KAAJ,GAAYC,IAAIC,IAAJ,CAAS;AACjBC,YAAIJ,IAAIK;AADS,KAAT,EAETT,MAFS,EAED;AACHU,mBAAWX;AADR,KAFC,CAAZ;AAKH,CAPD;;AASA,IAAIY,UAAU,SAAVA,OAAU,CAACP,GAAD,EAAMQ,GAAN,EAAc;AACxBA,QAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,cAAMX,IAAIY,QADO;AAEjBX,eAAOD,IAAIC;AAFM,KAArB;AAIH,CALD;;AAOAY,OAAOC,OAAP,GAAiB;AACbjB,8BADa;AAEbE,4CAFa;AAGbQ;AAHa,CAAjB","file":"authMiddleware.js","sourcesContent":["import expressJwt from 'express-jwt'\n\n\n// move to env vars\nconst loginTokenTime = 60 * 60 * 24 * 30; // 30 days\n\n// move to env vars\nconst SECRET = \"Node secRet Is This\";\n\nlet authenticate = expressJwt({ secret: SECRET });\n\nlet generateAccessToken = (req) => {\n    req.token = req.token || {};\n    req.token = jwt.sign({\n        id: req._id,\n    }, SECRET, {\n            expiresIn: loginTokenTime\n        });\n}\n\nlet respond = (req, res) => {\n    res.status(200).json({\n        user: req.username,\n        token: req.token\n    });\n}\n\nmodule.exports = {\n    authenticate,\n    generateAccessToken,\n    respond\n};\n"]}